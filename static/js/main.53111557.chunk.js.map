{"version":3,"sources":["routes.ts","hooks/useLocalStorageState.tsx","hooks/useLocale.tsx","locales/en-GB.ts","locales/es-ES.ts","locales/es-CA.ts","components/LocaleSelector.tsx","components/Icons.tsx","hooks/useTheme.tsx","components/ThemeSelector.tsx","hooks/useUser.tsx","components/NavBar.tsx","components/Layout.tsx","pages/NotFoundPage.tsx","pages/HomePage.tsx","pages/AboutPage.tsx","hooks/useInput.ts","components/user/LoginForm.tsx","auth/client.ts","auth/index.ts","pages/UserLoginPage.tsx","pages/UserProfilePage.tsx","components/user/RecoveryPasswordForm.tsx","pages/UserRecoveryPasswordPage.tsx","components/Spinner.tsx","api/map.ts","config.ts","api/client.ts","api/index.ts","hooks/useQuery.ts","pages/AlbumListPage.tsx","components/Card.tsx","pages/LoadingPage.tsx","pages/AlbumPage.tsx","pages/AlbumPhotoPage.tsx","pages/admin/AdminUserListPage.tsx","pages/admin/AdminUserDetailPage.tsx","pages/admin/AdminHomePage.tsx","Router.tsx","App.tsx","index.tsx"],"names":["routes","root","about","login","account","recoverPassword","albums","album","id","albumPhoto","albumId","photoId","admin","users","user","useLocalStorageState","key","initialValue","useState","data","localStorage","getItem","JSON","parse","undefined","err","load","value","setValue","useEffect","stringify","setItem","save","AvailableLocalesMap","en","APP_NAME","LOGIN_TITLE","ADMIN_USERS_TITLE","es","ca","availableLocales","Object","keys","LocaleContext","createContext","locale","setLocale","LocaleProvider","children","Provider","messages","LocaleSelector","useContext","className","map","item","onClick","ThemeIcon","viewBox","version","stroke","strokeWidth","fill","fillRule","d","ThemeContext","toggle","useTheme","ThemeProvider","setTheme","document","body","classList","add","remove","theme","useMemo","ThemeSelector","console","log","name","UserContext","setUser","UserProvider","useUser","NavBar","f","useIntl","formatMessage","notLoggedIn","isAdmin","to","Layout","breadcrumbs","data-testid","reduce","components","bc","i","push","label","NotFoundPage","HomePage","AboutPage","useInput","validate","error","setError","isValid","validationError","handleChange","e","target","isRequired","LoginForm","onLogin","email","password","onSubmit","preventDefault","every","htmlFor","type","onChange","placeholder","delay","ms","Promise","resolve","setTimeout","a","split","token","indexOf","AUTH","client","logout","UserLoginPage","credentials","then","UserAccountPage","RecoveryPasswordForm","setEmail","UserRecoveryPasswordPage","Spinner","fn","xs","toAlbumListItem","title","description","toAlbum","photosCount","toPhoto","photo","url","thumbnailUrl","toUserListItem","avatarUrl","thumb","avatarUrlThumb","toUser","username","address","street","city","zipcode","geo","lat","lng","phone","website","company","bs","env","getAuthHeaders","URL","development","apiUrl","production","get","path","ky","headers","json","API","list","photos","useQuery","fetch","setData","status","setStatus","response","AlbumListPage","Card","lorem","imageUrl","src","alt","LoadingPage","AlbumPage","params","useRouteMatch","albumStatus","photosStatus","AlbumPhotoPage","photoStatus","AdminUserListPage","AdminUserDetailPage","AdminHomePage","AppRouter","exact","App","Router","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.53111557.chunk.js","sourcesContent":["const routes = {\n  root: () => `/`,\n  about: () => `/about`,\n  login: () => `/login`,\n  account: () => `/account`,\n  recoverPassword: () => `/password-recovery`,\n  albums: () => `/albums`,\n  album: (id: string) => `/albums/${id}`,\n  albumPhoto: (albumId: string, photoId: string) =>\n    `/albums/${albumId}/photo/${photoId}`,\n  admin: {\n    root: () => `/admin`,\n    users: () => `/admin/users`,\n    user: (id: string) => `/admin/users/${id}`,\n  },\n};\n\nexport default routes;\n","import { useState, useEffect, Dispatch, SetStateAction } from \"react\";\n\nexport default function useLocalStorageState<T>(\n  key: string,\n  initialValue: T\n): [T, Dispatch<SetStateAction<T>>] {\n  const [value, setValue] = useState(load(key) || initialValue);\n\n  useEffect(() => {\n    save(key, value);\n  }, [key, value]);\n\n  return [value, setValue];\n}\n\nfunction load<T>(key: string): T | undefined {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? (JSON.parse(data) as T) : undefined;\n  } catch (err) {\n    return;\n  }\n}\n\nfunction save<T>(key: string, value: T) {\n  const data = JSON.stringify(value);\n  localStorage.setItem(key, data);\n}\n","import React, { createContext, useContext } from \"react\";\nimport { IntlProvider } from \"react-intl\";\nimport en from \"../locales/en-GB\";\nimport es from \"../locales/es-ES\";\nimport ca from \"../locales/es-CA\";\nimport useLocalStorageState from \"./useLocalStorageState\";\n\nconst AvailableLocalesMap = {\n  en,\n  es,\n  ca,\n} as const;\n\ntype Locale = keyof typeof AvailableLocalesMap;\nconst availableLocales: Locale[] = Object.keys(AvailableLocalesMap) as Locale[];\n\ntype LocaleContextState = {\n  locale: Locale;\n  availableLocales: Locale[];\n  setLocale: (locale: Locale) => void;\n};\n\nconst LocaleContext = createContext<LocaleContextState>({\n  locale: \"en\",\n  availableLocales,\n  setLocale: () => undefined,\n});\n\nexport const LocaleProvider: React.FC = ({ children }) => {\n  const [locale, setLocale] = useLocalStorageState<Locale>(\"LOCALE\", \"en\");\n\n  return (\n    <LocaleContext.Provider value={{ locale, setLocale, availableLocales }}>\n      <IntlProvider locale=\"en\" messages={AvailableLocalesMap[locale]}>\n        {children}\n      </IntlProvider>\n    </LocaleContext.Provider>\n  );\n};\n\nexport default function useLocale() {\n  return useContext(LocaleContext);\n}\n","import { Locale } from \"./types\";\n\nconst messages: Locale = {\n  APP_NAME: \"Hooks\",\n  LOGIN_TITLE: \"Login\",\n  ADMIN_USERS_TITLE: \"User list\",\n};\n\nexport default messages;\n","import { Locale } from \"./types\";\n\nconst messages: Locale = {\n  APP_NAME: \"Ganchos\",\n  LOGIN_TITLE: \"Entrar\",\n  ADMIN_USERS_TITLE: \"Usuarios\",\n};\n\nexport default messages;\n","import { Locale } from \"./types\";\n\nconst messages: Locale = {\n  APP_NAME: \"Ganxos\",\n  LOGIN_TITLE: \"Iniciar sessió\",\n  ADMIN_USERS_TITLE: \"Usuaris\",\n};\n\nexport default messages;\n","import React from \"react\";\nimport useLocale from \"../hooks/useLocale\";\n\nconst LocaleSelector: React.FC = () => {\n  const { locale, setLocale, availableLocales } = useLocale();\n\n  return (\n    <div className=\"flex pr-4 border-l\">\n      {availableLocales.map((item) => (\n        <button\n          key={item}\n          onClick={() => setLocale(item)}\n          className={`px-2 border-r border-muted-light uppercase ${\n            item === locale ? \"text-accent\" : \"\"\n          }`}\n        >\n          {item}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default LocaleSelector;\n","import React from \"react\";\n\ntype Props = {\n  className?: string;\n};\n\nexport const ThemeIcon: React.FC<Props> = ({ className = \"\" }) => (\n  <svg className={className} viewBox=\"0 0 20 20\" version=\"1.1\">\n    <g\n      id=\"Page-1\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    >\n      <g id=\"icon-shape\">\n        <path\n          d=\"M10,2 C14.418278,2 18,5.581722 18,10 C18,14.418278 14.418278,18 10,18 L10,2 Z M10,20 C15.5228475,20 20,15.5228475 20,10 C20,4.4771525 15.5228475,0 10,0 C4.4771525,0 0,4.4771525 0,10 C0,15.5228475 4.4771525,20 10,20 Z\"\n          id=\"Combined-Shape\"\n        ></path>\n      </g>\n    </g>\n  </svg>\n);\n","import React, { createContext, useContext, useMemo } from \"react\";\nimport useLocalStorageState from \"./useLocalStorageState\";\nimport { useEffect } from \"react\";\n\nexport type Theme = {\n  value: string;\n  toggle: () => void;\n};\n\nconst ThemeContext = createContext<Theme>({\n  value: \"light\",\n  toggle: () => undefined,\n});\n\nexport default function useTheme(): Theme {\n  return useContext(ThemeContext);\n}\n\nexport const ThemeProvider: React.FC = ({ children }) => {\n  const [value, setTheme] = useLocalStorageState(\"THEME\", \"light\");\n\n  useEffect(() => {\n    if (value === \"light\") {\n      document.body.classList.add(\"theme-light\");\n      document.body.classList.remove(\"theme-dark\");\n    } else {\n      document.body.classList.add(\"theme-dark\");\n      document.body.classList.remove(\"theme-light\");\n    }\n  }, [value]);\n\n  const theme: Theme = useMemo(() => {\n    const toggle = () => {\n      setTheme(value === \"light\" ? \"dark\" : \"light\");\n    };\n    return { value, toggle };\n  }, [value, setTheme]);\n\n  return (\n    <ThemeContext.Provider value={theme}>{children}</ThemeContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { ThemeIcon } from \"./Icons\";\nimport useTheme from \"../hooks/useTheme\";\n\ntype Props = {\n  className?: string;\n};\n\nconst ThemeSelector: React.FC<Props> = ({ className = \"\" }) => {\n  const theme = useTheme();\n\n  console.log(\"RENDER\", ThemeSelector.name);\n\n  return (\n    <button\n      onClick={theme.toggle}\n      className={`${className} flex items-center px-4 rounded-full capitalize`}\n    >\n      <ThemeIcon className=\"h-4 w-4 mr-2\" />\n      {theme.value}\n    </button>\n  );\n};\n\nexport default ThemeSelector;\n","import React, { createContext, useContext } from \"react\";\nimport useLocalStorageState from \"./useLocalStorageState\";\n\ntype User = {\n  id: string;\n  name: string;\n  admin: boolean;\n};\n\ntype UserContextState = {\n  user?: User;\n  setUser: (user?: User) => void;\n};\n\nconst UserContext = createContext<UserContextState>({\n  user: undefined,\n  setUser: () => undefined,\n});\n\nexport const UserProvider: React.FC = ({ children }) => {\n  const [user, setUser] = useLocalStorageState<User | undefined>(\n    \"USER\",\n    undefined\n  );\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default function useUser() {\n  return useContext(UserContext);\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport routes from \"../routes\";\nimport LocaleSelector from \"./LocaleSelector\";\nimport ThemeSelector from \"./ThemeSelector\";\nimport useUser from \"../hooks/useUser\";\nimport { useIntl } from \"react-intl\";\n\ntype Props = {};\n\nconst NavBar: React.FC<Props> = () => {\n  const { formatMessage: f } = useIntl();\n  const { user } = useUser();\n  const notLoggedIn = !user;\n  const isAdmin = user && user.admin;\n\n  return (\n    <nav className=\"text-muted-light flex items-center w-full bg-header border-b py-2\">\n      <div className=\"mx-4 flex items-center flex-grow\">\n        <Link to=\"/\">\n          <h1 className=\"text-xl\">{f({ id: \"APP_NAME\" })}</h1>\n        </Link>\n        {user && (\n          <>\n            <Link className=\"ml-4\" to={routes.albums()}>\n              Albums\n            </Link>\n          </>\n        )}\n        {isAdmin && (\n          <>\n            <Link className=\"ml-4\" to={routes.admin.users()}>\n              Users\n            </Link>\n          </>\n        )}\n      </div>\n      {notLoggedIn && (\n        <>\n          <Link className=\"mx-4\" to={routes.about()}>\n            About\n          </Link>\n        </>\n      )}\n      <LocaleSelector />\n      <ThemeSelector className=\"bg-header hover:bg-page hover:text-default\" />\n      {user && (\n        <div className=\"mr-8\">\n          <Link className=\"ml-4\" to={routes.account()}>\n            {user.name}\n          </Link>\n        </div>\n      )}\n      {notLoggedIn && (\n        <div className=\"mr-8\">\n          <Link className=\"ml-4\" to={routes.login()}>\n            Login\n          </Link>\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport NavBar from \"./NavBar\";\n\ntype Breadcrumb = {\n  label: string;\n  to?: string;\n};\n\ntype Props = {\n  breadcrumbs?: Breadcrumb[];\n};\n\nconst Layout: React.FC<Props> = ({ breadcrumbs = [], children }) => {\n  return (\n    <div className=\"flex flex-col text-default\">\n      <NavBar />\n      <div className=\"container mx-auto my-16 px-4\">\n        <div className=\"flex text-muted\" data-testid=\"breadcrumbs\">\n          {breadcrumbs.reduce((components, bc, i) => {\n            if (i > 0) {\n              components.push(\n                <label key={\"separator-\" + i} className=\"px-2\">\n                  {\"/\"}\n                </label>\n              );\n            }\n            if (bc.to) {\n              components.push(\n                <Link key={bc.label} className=\"text-accent\" to={bc.to}>\n                  {bc.label}\n                </Link>\n              );\n            } else {\n              components.push(<label key={bc.label}>{bc.label}</label>);\n            }\n\n            return components;\n          }, [] as JSX.Element[])}\n        </div>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\n\nconst NotFoundPage: React.FC = () => <Layout>NotFoundPage</Layout>;\n\nexport default NotFoundPage;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\n\nconst HomePage: React.FC = () => {\n  console.log(\"RENDER\", HomePage.name);\n\n  return (\n    <Layout>\n      <h1 className=\"text-4xl\">HomePage</h1>\n    </Layout>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport routes from \"../routes\";\n\nconst AboutPage: React.FC = () => {\n  console.log(\"RENDER\", AboutPage.name);\n  return (\n    <Layout breadcrumbs={[{ label: \"home\", to: routes.root() }]}>\n      <h1 className=\"text-4xl\">AboutPage</h1>\n    </Layout>\n  );\n};\n\nexport default AboutPage;\n","import { useState, ChangeEvent } from \"react\";\n\n/**\n * Use [react-hook-form](https://github.com/react-hook-form/react-hook-form)\n */\nexport default function useInput(\n  validate: (value: string) => string | undefined\n) {\n  const [value, setValue] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const isValid = () => {\n    const validationError = validate(value);\n    if (validationError) {\n      setError(validationError);\n      return false;\n    } else {\n      setError(\"\");\n      return true;\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n  };\n  return { value, error, isValid, handleChange };\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useIntl } from \"react-intl\";\nimport routes from \"../../routes\";\nimport useInput from \"../../hooks/useInput\";\n\nexport type LoginData = {\n  email: string;\n  password: string;\n};\n\ntype Props = {\n  onLogin: (data: LoginData) => void;\n};\n\nconst isRequired = (error: string) => (value: string) => (value ? \"\" : error);\n\nconst LoginForm: React.FC<Props> = ({ onLogin }) => {\n  const { formatMessage: f } = useIntl();\n  const email = useInput(isRequired(\"Email is required\"));\n  const password = useInput(isRequired(\"Password is required\"));\n\n  return (\n    <form\n      data-testid=\"LoginForm\"\n      className=\"flex flex-col max-w-sm mx-auto bg-card rounded p-4\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        const valid = [email.isValid(), password.isValid()].every(\n          (isValid) => isValid\n        );\n        if (valid) {\n          onLogin({ email: email.value, password: password.value });\n        }\n      }}\n    >\n      <h1 className=\"font-medium text-2xl mb-4\">{f({ id: \"LOGIN_TITLE\" })}</h1>\n      <div className=\"py-2 flex flex-col\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          name=\"email\"\n          type=\"text\"\n          value={email.value}\n          onChange={email.handleChange}\n          className=\"p-2 border border-muted-light bg-page\"\n          placeholder=\"email@example.com\"\n        />\n        {email.error && <div className=\"text-error mt-1\">{email.error}</div>}\n      </div>\n      <div className=\"py-2 flex flex-col\">\n        <label htmlFor=\"password\">Password</label>\n        <input\n          name=\"password\"\n          type=\"password\"\n          value={password.value}\n          onChange={password.handleChange}\n          className=\"p-2 border border-muted-light my-1 bg-page\"\n          placeholder=\"Password here\"\n        />\n        {password.error && (\n          <div className=\"text-error mt-1\">{password.error}</div>\n        )}\n      </div>\n      <div className=\"mt-4 flex items-center\">\n        <button className=\"btn\" type=\"submit\">\n          Login\n        </button>\n        <Link className=\"ml-4\" to={routes.recoverPassword()}>\n          Forgot password\n        </Link>\n      </div>\n    </form>\n  );\n};\n\nexport default LoginForm;\n\n// const { register, handleSubmit, errors } = useForm<LoginData>();\n// const email = useInput(validation({ isRequired: \"Email is required\" }));\n// const password = useInput(validation({ isRequired: \"Password is required\" }));\n\n// const handleLogin = (e: FormEvent<HTMLFormElement>) => {\n//   e.preventDefault();\n//   if (email.isValid() && password.isValid()) {\n//     console.log(email, password);\n//   }\n// };\n","const delay = (ms: number) =>\n  new Promise((resolve) => setTimeout(() => resolve(), ms));\n\nexport async function login(email: string, password: string) {\n  await delay(250);\n  return Promise.resolve({\n    name: email.split(\"@\")[0],\n    id: \"1\",\n    token: \"JWT_TOKEN\",\n    admin: email.indexOf(\"admin\") !== -1,\n  });\n}\n\nexport async function logout() {\n  await delay(250);\n  return Promise.resolve({});\n}\n","import * as client from \"./client\";\n\ntype PostLogin = {\n  email: string;\n  password: string;\n};\n\nconst AUTH = {\n  login: ({ email, password }: PostLogin) => client.login(email, password),\n  logout: () => client.logout(),\n};\n\nexport default AUTH;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport LoginForm from \"../components/user/LoginForm\";\nimport useUser from \"../hooks/useUser\";\nimport AUTH from \"../auth\";\n\nconst UserLoginPage: React.FC = () => {\n  const { user, setUser } = useUser();\n\n  if (user) return null;\n\n  return (\n    <Layout>\n      <LoginForm\n        onLogin={(credentials) =>\n          AUTH.login(credentials).then((user) => setUser(user))\n        }\n      />\n    </Layout>\n  );\n};\n\nexport default UserLoginPage;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport useTheme from \"../hooks/useTheme\";\nimport useUser from \"../hooks/useUser\";\nimport { Redirect } from \"react-router-dom\";\nimport routes from \"../routes\";\n\nconst UserAccountPage: React.FC = () => {\n  const theme = useTheme();\n  const { user, setUser } = useUser();\n\n  if (!user) return <Redirect to={routes.login()} />;\n\n  console.log(\"RENDER\", UserAccountPage.name);\n\n  return (\n    <Layout>\n      <div>\n        <div className=\"mb-8\">\n          {user.admin && <div className=\"font-medium\">Administrator</div>}\n          <h1 className=\"font-medium text-2xl\">{user.name}</h1>\n        </div>\n        <button className=\"btn mr-4 capitalize\" onClick={theme.toggle}>\n          {theme.value}\n        </button>\n        <button className=\"btn\" onClick={() => setUser()}>\n          Logout\n        </button>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UserAccountPage;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\ntype Props = {};\n\nconst RecoveryPasswordForm: React.FC<Props> = () => {\n  const [email, setEmail] = useState(\"\");\n\n  return (\n    <form\n      className=\"flex flex-col max-w-sm mx-auto bg-card rounded p-4\"\n      onSubmit={(e) => e.preventDefault()}\n    >\n      <h1 className=\"font-medium text-2xl mb-4\">Recover password</h1>\n      <div className=\"py-2 flex flex-col\">\n        <label>Email</label>\n        <input\n          className=\"p-2 border border-muted-light my-1\"\n          type=\"text\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </div>\n      <div className=\"mt-4 flex items-center\">\n        <button className=\"btn\" type=\"submit\">\n          Send recovery\n        </button>\n        <Link className=\"ml-4\" to=\"/forgot-password\">\n          Back to login\n        </Link>\n      </div>\n    </form>\n  );\n};\n\nexport default RecoveryPasswordForm;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport RecoveryPasswordForm from \"../components/user/RecoveryPasswordForm\";\n\nconst UserRecoveryPasswordPage: React.FC = () => {\n  console.log(\"RENDER\", UserRecoveryPasswordPage.name);\n  return (\n    <Layout>\n      <RecoveryPasswordForm />\n    </Layout>\n  );\n};\n\nexport default UserRecoveryPasswordPage;\n","import React from \"react\";\n\nconst Spinner: React.FC = () => <div className=\"spinner w-8 h-8\"></div>;\n\nexport default Spinner;\n","import { AlbumListItem, Album, Photo, UserListItem, User } from \"./types\";\n\nexport const map = <T>(fn: (x: any) => T) => (xs: any) => (xs as any[]).map(fn);\n\nexport const toAlbumListItem = (album: any): AlbumListItem => ({\n  id: album.id || \"\",\n  title: album.title || \"\",\n  description: album.description || \"\",\n});\n\nexport const toAlbum = (album: any): Album => ({\n  id: album.id || \"\",\n  title: album.title || \"\",\n  description: album.description || \"\",\n  photosCount: album.photosCount || \"\",\n});\n\nexport const toPhoto = (photo: any): Photo => ({\n  id: photo.id || \"\",\n  albumId: photo.albumId || \"\",\n  title: photo.title || \"\",\n  url: photo.url || \"\",\n  thumbnailUrl: photo.thumbnailUrl || \"\",\n});\n\nexport const toUserListItem = (user: any): UserListItem => ({\n  id: user.id || \"\",\n  name: user.name || \"\",\n  email: user.email || \"\",\n  avatarUrl: {\n    thumb: user.avatarUrlThumb || \"http://placehold.it/40/aaaaaa\",\n  },\n});\n\nexport const toUser = (user: any): User => ({\n  id: user.id || \"\",\n  name: user.name || \"\",\n  username: user.username || \"\",\n  email: user.email || \"\",\n  address: {\n    street: user?.address?.street || \"\",\n    city: user?.address?.city || \"\",\n    zipcode: user?.address?.zipcode || \"\",\n    geo: {\n      lat: user?.address?.geo?.lat || \"\",\n      lng: user?.address?.geo?.lng || \"\",\n    },\n  },\n  phone: user.id || \"\",\n  website: user.id || \"\",\n  company: {\n    name: user?.company.id || \"\",\n    bs: user?.company.id || \"\",\n  },\n});\n","type Environment = \"development\" | \"production\";\n\ntype Config = {\n  env: Environment;\n  apiUrl: string;\n};\n\nconst env: Environment =\n  process.env.NODE_ENV === \"development\" ? \"development\" : \"production\";\n\nconst CONFIG: Record<Environment, Config> = {\n  development: {\n    env,\n    apiUrl: \"http://localhost:1338\",\n  },\n  production: {\n    env,\n    apiUrl: \"https://jsonplaceholder.typicode.com\",\n  },\n};\n\nexport default CONFIG[env];\n","import ky from \"ky\";\nimport config from \"../config\";\n\nlet token: string = \"\";\n\nexport function setAuthToken(newToken: string) {\n  token = newToken;\n}\n\nexport function getAuthHeaders() {\n  return token ? { \"x-access-token\": token } : {};\n}\n\nconst URL = config.apiUrl;\n\nexport async function get(path: string) {\n  return ky\n    .get(URL + path, {\n      headers: getAuthHeaders(),\n    })\n    .json();\n}\n\nexport async function post(path: string) {\n  return ky\n    .post(URL + path, {\n      headers: getAuthHeaders(),\n    })\n    .json();\n}\n","import {\n  map,\n  toAlbumListItem,\n  toAlbum,\n  toPhoto,\n  toUserListItem,\n  toUser,\n} from \"./map\";\nimport * as client from \"./client\";\n\ntype GetAlbum = {\n  id: string;\n};\ntype GetAlbumPhotosList = {\n  albumId: string;\n};\ntype GetAlbumPhoto = {\n  albumId: string;\n  id: string;\n};\n\ntype GetUser = {\n  id: string;\n};\n\nconst API = {\n  albums: {\n    list: () => client.get(`/albums`).then(map(toAlbumListItem)),\n    get: ({ id }: GetAlbum) => client.get(\"/albums/\" + id).then(toAlbum),\n    photos: {\n      list: ({ albumId }: GetAlbumPhotosList) =>\n        client.get(`/album/${albumId}/photos`).then(map(toPhoto)),\n      get: ({ albumId, id }: GetAlbumPhoto) =>\n        client.get(`/photos/${id}`).then(toPhoto),\n    },\n  },\n  users: {\n    list: () => client.get(\"/users\").then(map(toUserListItem)),\n    get: ({ id }: GetUser) => client.get(`/users/${id}`).then(toUser),\n  },\n};\n\nexport default API;\n","import { useState, useEffect } from \"react\";\n\n/**\n *  use [react-query](https://github.com/tannerlinsley/react-query)\n */\nexport default function useQuery<T>(fetch: () => Promise<T>) {\n  const [data, setData] = useState<T | undefined>(undefined);\n  const [status, setStatus] = useState(\"success\");\n\n  useEffect(() => {\n    setStatus(\"loading\");\n    fetch().then((response) => {\n      setData(response);\n      setStatus(\"success\");\n    });\n  }, []);\n\n  return { data, status };\n}\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport Spinner from \"../components/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport routes from \"../routes\";\nimport API from \"../api\";\nimport useQuery from \"../hooks/useQuery\";\n\nconst AlbumListPage: React.FC = () => {\n  const { data: albums, status } = useQuery(() => API.albums.list());\n\n  console.log(\"RENDER\", AlbumListPage.name);\n\n  return (\n    <Layout breadcrumbs={[{ label: \"home\", to: routes.root() }]}>\n      <h1 className=\"text-4xl mb-4\">Albums</h1>\n      {status === \"loading\" && <Spinner />}\n      {albums &&\n        albums.map((album) => (\n          <Link key={album.id} to={routes.album(album.id)}>\n            <div className=\"flex flex-col p-4 my-4 bg-card rounded shadow-sm\">\n              <h2 className=\"text-accent text-2xl capitalize\">{album.title}</h2>\n              <p className=\"my-4\">{album.description}</p>\n            </div>\n          </Link>\n        ))}\n    </Layout>\n  );\n};\n\nexport default AlbumListPage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  className?: string;\n  title: string;\n  to?: string;\n  lorem?: string;\n  imageUrl: string;\n};\n\nconst Card: React.FC<Props> = ({ className, title, lorem, imageUrl, to }) => (\n  <div\n    className={`${className} bg-card max-w-xs rounded overflow-hidden shadow-lg mr-4 mb-4`}\n  >\n    <img className=\"w-full\" src={imageUrl} alt={title} />\n    <div className=\"px-6 py-4\">\n      <div className=\"font-bold text-xl mb-2\">\n        {to ? <Link to={to}>{title}</Link> : title}\n      </div>\n      {lorem && <p className=\"text-gray-700 text-base\">{lorem}</p>}\n    </div>\n  </div>\n);\n\nexport default Card;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport Spinner from \"../components/Spinner\";\n\nconst LoadingPage: React.FC = () => {\n  console.log(\"RENDER\", LoadingPage.name);\n\n  return (\n    <Layout>\n      <Spinner />\n    </Layout>\n  );\n};\n\nexport default LoadingPage;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport { useRouteMatch, Link } from \"react-router-dom\";\nimport Card from \"../components/Card\";\nimport routes from \"../routes\";\nimport LoadingPage from \"./LoadingPage\";\nimport { Album, Photo } from \"../api/types\";\nimport useQuery from \"../hooks/useQuery\";\nimport API from \"../api\";\n\ntype RouteParams = {\n  id: string;\n};\n\nconst AlbumPage: React.FC = () => {\n  const { params } = useRouteMatch<RouteParams>();\n  const { data: album, status: albumStatus } = useQuery(() =>\n    API.albums.get({ id: params.id })\n  );\n\n  const { data: photos, status: photosStatus } = useQuery(() =>\n    API.albums.photos.list({ albumId: params.id })\n  );\n\n  console.log(\"RENDER\", AlbumPage.name, params);\n\n  if (albumStatus === \"loading\" && photosStatus === \"loading\")\n    return <LoadingPage />;\n\n  return (\n    <Layout\n      breadcrumbs={[\n        { label: \"home\", to: routes.root() },\n        { label: \"albums\", to: routes.albums() },\n        { label: \"album\" },\n      ]}\n    >\n      <h1 className=\"text-4xl mb-4\">\n        {(album && album.title) || \"Loading...\"}\n      </h1>\n      <div className=\"flex flex-wrap\">\n        {photos &&\n          photos.map((photo) => (\n            <Link\n              key={photo.id}\n              className=\"w-1/5\"\n              to={routes.albumPhoto(photo.albumId, photo.id)}\n            >\n              <Card title={photo.title} imageUrl={photo.thumbnailUrl} />\n            </Link>\n          ))}\n      </div>\n    </Layout>\n  );\n};\n\nexport default AlbumPage;\n","import React from \"react\";\nimport Layout from \"../components/Layout\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport routes from \"../routes\";\nimport Spinner from \"../components/Spinner\";\nimport { Album, Photo } from \"../api/types\";\nimport useQuery from \"../hooks/useQuery\";\nimport API from \"../api\";\n\ntype RouteParams = {\n  albumId: string;\n  photoId: string;\n};\n\nconst AlbumPhotoPage: React.FC = () => {\n  console.log(\"RENDER\", AlbumPhotoPage.name);\n\n  const { params } = useRouteMatch<RouteParams>();\n  const { data: album } = useQuery(() =>\n    API.albums.get({ id: params.albumId })\n  );\n  const { data: photo, status: photoStatus } = useQuery(() =>\n    API.albums.photos.get({ id: params.photoId, albumId: params.albumId })\n  );\n\n  return (\n    <Layout\n      breadcrumbs={[\n        { label: \"home\", to: routes.root() },\n        { label: \"albums\", to: routes.albums() },\n        {\n          label: album ? album.title : \"album\",\n          to: routes.album(params.albumId),\n        },\n        { label: \"photo\" },\n      ]}\n    >\n      <h1 className=\"text-4xl mb-4\">{photo ? photo.title : \"Loading...\"}</h1>\n      {photoStatus === \"loading\" && <Spinner />}\n      {photo && (\n        <div>\n          <img src={photo.url} alt={photo.title} />\n        </div>\n      )}\n    </Layout>\n  );\n};\n\nexport default AlbumPhotoPage;\n","import React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport routes from \"../../routes\";\nimport { useIntl } from \"react-intl\";\nimport useQuery from \"../../hooks/useQuery\";\nimport API from \"../../api\";\n\nconst AdminUserListPage: React.FC = () => {\n  const { formatMessage: f } = useIntl();\n  const { data: users, status } = useQuery(() => API.users.list());\n\n  console.log(\"RENDER\", AdminUserListPage.name);\n\n  return (\n    <Layout\n      breadcrumbs={[\n        { label: \"admin\", to: routes.admin.root() },\n        { label: \"users\" },\n      ]}\n    >\n      <h1 className=\"text-4xl mb-4\">{f({ id: \"ADMIN_USERS_TITLE\" })}</h1>\n      <table className=\"w-full\">\n        <thead>\n          <tr className=\"text-left border-b border-muted\">\n            <th className=\"py-2\">Avatar</th>\n            <th className=\"py-2\">Name</th>\n            <th className=\"py-2\">Email</th>\n          </tr>\n        </thead>\n        <tbody>\n          {status === \"loading\" && <Spinner />}\n          {users &&\n            users.map((user) => (\n              <tr className=\"border-b border-muted\" key={user.id}>\n                <td className=\"py-2\">\n                  <img\n                    className=\"rounded-full\"\n                    src={user.avatarUrl.thumb}\n                    alt={user.name}\n                  />\n                </td>\n                <td className=\"py-2\">\n                  <Link\n                    to={routes.admin.user(user.id)}\n                    className=\"text-accent hover:underline\"\n                  >\n                    {user.name}\n                  </Link>\n                </td>\n                <td className=\"py-2\">{user.email}</td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </Layout>\n  );\n};\n\nexport default AdminUserListPage;\n","import React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport routes from \"../../routes\";\nimport LoadingPage from \"../LoadingPage\";\nimport useQuery from \"../../hooks/useQuery\";\nimport API from \"../../api\";\n\ntype RouteParams = {\n  id: string;\n};\n\nconst AdminUserDetailPage: React.FC = () => {\n  const { params } = useRouteMatch<RouteParams>();\n  const { data: user, status } = useQuery(() =>\n    API.users.get({ id: params.id })\n  );\n\n  console.log(\"RENDER\", AdminUserDetailPage.name, params);\n\n  if (status === \"loading\") return <LoadingPage />;\n\n  return (\n    <Layout\n      breadcrumbs={[\n        { label: \"admin\", to: routes.admin.root() },\n        { label: \"users\", to: routes.admin.users() },\n        { label: \"user\" },\n      ]}\n    >\n      <h1 className=\"text-4xl mb-4\">{user && user.name}</h1>\n      <div>{user && user.email}</div>\n    </Layout>\n  );\n};\n\nexport default AdminUserDetailPage;\n","import React from \"react\";\nimport Layout from \"../../components/Layout\";\n\nconst AdminHomePage: React.FC = () => {\n  console.log(\"RENDER\", AdminHomePage.name);\n\n  return (\n    <Layout breadcrumbs={[{ label: \"admin\" }]}>\n      <h1 className=\"text-4xl\">AdminHomePage</h1>\n    </Layout>\n  );\n};\n\nexport default AdminHomePage;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport routes from \"./routes\";\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport HomePage from \"./pages/HomePage\";\nimport AboutPage from \"./pages/AboutPage\";\nimport UserLoginPage from \"./pages/UserLoginPage\";\nimport UserAccountPage from \"./pages/UserProfilePage\";\nimport UserRecoveryPasswordPage from \"./pages/UserRecoveryPasswordPage\";\nimport AlbumListPage from \"./pages/AlbumListPage\";\nimport AlbumPage from \"./pages/AlbumPage\";\nimport AlbumPhotoPage from \"./pages/AlbumPhotoPage\";\nimport AdminUserListPage from \"./pages/admin/AdminUserListPage\";\nimport AdminUserDetailPage from \"./pages/admin/AdminUserDetailPage\";\nimport AdminHomePage from \"./pages/admin/AdminHomePage\";\n\nconst AppRouter: React.FC = () => {\n  const loggedIn = true;\n  const admin = true;\n  console.log(\"RENDER\", AppRouter.name);\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path={routes.about()}>\n          <AboutPage />\n        </Route>\n        {admin && (\n          <Route path=\"/admin\">\n            <Switch>\n              <Route exact path={routes.admin.root()}>\n                <AdminHomePage />\n              </Route>\n              <Route exact path={routes.admin.users()}>\n                <AdminUserListPage />\n              </Route>\n              <Route exact path={routes.admin.user(\":id\")}>\n                <AdminUserDetailPage />\n              </Route>\n              <Route path=\"*\">\n                <NotFoundPage />\n              </Route>\n            </Switch>\n          </Route>\n        )}\n        {loggedIn && (\n          <Switch>\n            <Route exact path={routes.root()}>\n              <HomePage />\n            </Route>\n            <Route exact path={routes.account()}>\n              <UserAccountPage />\n            </Route>\n            <Route exact path={routes.albums()}>\n              <AlbumListPage />\n            </Route>\n            <Route exact path={routes.album(\":id\")}>\n              <AlbumPage />\n            </Route>\n            <Route exact path={routes.albumPhoto(\":albumId\", \":photoId\")}>\n              <AlbumPhotoPage />\n            </Route>\n            {/* <Route exact path={routes.login()}>\n              <Redirect to={routes.root()} />\n            </Route> */}\n            {/* <Route path=\"*\">\n              <NotFoundPage />\n            </Route> */}\n            <Route exact path={routes.recoverPassword()}>\n              <UserRecoveryPasswordPage />\n            </Route>\n            <Route exact to={routes.login()}>\n              <UserLoginPage />\n            </Route>\n          </Switch>\n        )}\n        {!loggedIn && (\n          <Switch>\n            {/* <Route path=\"*\">\n            <Redirect to={routes.login()} />\n          </Route> */}\n          </Switch>\n        )}\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default AppRouter;\n","import React from \"react\";\nimport Router from \"./Router\";\nimport { ThemeProvider } from \"./hooks/useTheme\";\nimport { UserProvider } from \"./hooks/useUser\";\nimport { LocaleProvider } from \"./hooks/useLocale\";\n\nconst App: React.FC = () => {\n  console.log(\"RENDER\", App.name);\n  return (\n    <UserProvider>\n      <ThemeProvider>\n        <LocaleProvider>\n          <Router />\n        </LocaleProvider>\n      </ThemeProvider>\n    </UserProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/output.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}